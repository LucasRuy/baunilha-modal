!function(){"use-strict";var t={extendDefaults:function(t,o){var n;for(n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);return t}},o={enableModal:function(){this.modal.classList.add("is-active"),!0===this.options.overlay&&this.overlay.classList.add("is-active")},disableModal:function(){this.modal.classList.remove("is-active"),!0===this.options.overlay&&this.overlay.classList.remove("is-active")},mountModal:function(t){var n,e,i;n=document.createDocumentFragment(),t.modal=document.createElement("div"),t.modal.setAttribute("class",t.options.modalClass),t.modal.setAttribute("style","max-width:"+t.options.maxWidth+";min-width:"+t.options.minWidth+";margin: 0px auto"),(i=document.createElement("div")).classList.add(t.options.modalClass+"__content"),t.modal.appendChild(i),n.appendChild(t.modal),"string"==typeof t.options.content?(e=t.options.content,i.innerHTML=e):t.options.content instanceof Element?(e=t.options.content,i.appendChild(e)):(e=t.options.content.innerHTML,i.innerHTML=e),!0===t.options.buttonClose&&(t.buttonClose=document.createElement("button"),t.buttonClose.classList.add(t.options.modalClass+"__close"),t.buttonClose.innerHTML="x",t.modal.appendChild(t.buttonClose)),!0===t.options.overlay&&(t.overlay=document.createElement("div"),t.overlay.classList.add(t.options.modalClass+"__overlay"),n.appendChild(t.overlay),!0===t.options.overlayClose&&t.overlay.addEventListener("click",function(){o.disableModal.call(t),console.log("close")},!1)),"string"==typeof t.options.appendOn?(this.appendOn=document.querySelector(t.options.appendOn),this.appendOn.appendChild(n)):document.body.appendChild(n)}};function n(){this.modal=null,this.overlay=null,this.buttonClose=null,this.appendOn=null;return arguments[0]&&"object"==typeof arguments[0]&&(this.options=t.extendDefaults({modalClass:"basic-modal",buttonTarget:".basic-modal-open",content:"",maxWidth:"500px",minWidth:"280px",buttonClose:!0,overlay:!0,overlayClose:!0,keyboard:!0,appendOn:null},arguments[0])),this.init(),this}n.prototype.build=function(){o.mountModal(this)},n.prototype.open=function(){var t=this;"string"==typeof this.options.buttonTarget&&function(){for(var n=document.querySelectorAll(t.options.buttonTarget),e=0;e<n.length;e+=1)n[e].addEventListener("click",function(){o.enableModal.call(t)},!1)}()},n.prototype.close=function(){var t=this;!0===this.options.buttonClose&&t.buttonClose.addEventListener("click",function(){o.disableModal.call(t)},!1)},n.prototype.destroy=function(){this.modal.remove(),this.overlay.remove()},n.prototype.keyboard=function(){var t=this;document.addEventListener("keydown",function(n){27===n.keyCode&&o.disableModal.call(t)},!1)},n.prototype.init=function(){this.build(),this.open(),this.close(),this.keyboard()},window.BaunilhaModal=n}(window);