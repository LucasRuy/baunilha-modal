!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={BAUNILHA_DEFAULTS:{modalClass:"baunilha-modal",buttonTarget:".baunilha-modal-open",content:"",maxWidth:"500px",minWidth:"280px",hasCloseButton:!0,overlay:!0,overlayClose:!0,keyboard:!0,appendTo:null},KEYBOARD:{ESC:27},CLASSES:{isActive:"is-active"},EVENT_NAME:{CLICK:"click",KEYDOWN:"keydown"}}},function(t,e,o){o(2),t.exports=o(8)},function(t,e,o){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=u(o(0)),l=u(o(3)),a=u(o(7));function u(t){return t&&t.__esModule?t:{default:t}}!function(){"use-strict";function t(){return this.modal=null,this.overlay=null,this.hasCloseButton=null,this.appendTo=null,arguments[0]&&"object"===n(arguments[0])&&(this.options=a.default.extend.defaults(i.default.BAUNILHA_DEFAULTS,arguments[0])),this.init(),this}t.prototype.build=function(){l.default.mount(this)},t.prototype.open=function(){var t=this;"string"==typeof this.options.buttonTarget&&function(){for(var e=document.querySelectorAll(t.options.buttonTarget),o=0;o<e.length;o+=1)e[o].addEventListener(i.default.EVENT_NAME.CLICK,function(){l.default.enable(t)},!1)}()},t.prototype.close=function(){var t=this;!0===this.options.hasCloseButton&&t.hasCloseButton.addEventListener(i.default.EVENT_NAME.CLICK,function(){l.default.disable(t)},!1)},t.prototype.destroy=function(){this.modal.remove(),this.overlay.remove()},t.prototype.keyboard=function(){var t=this;document.addEventListener(i.default.EVENT_NAME.KEYDOWN,function(e){e.keyCode===i.default.KEYBOARD.ESC&&l.default.disable(t)},!1)},t.prototype.init=function(){this.build(),this.open(),this.close(),this.keyboard()},window.BaunilhaModal=t}(window)},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(o(4)),i=a(o(5)),l=a(o(6));function a(t){return t&&t.__esModule?t:{default:t}}var u={enable:function(t){(0,n.default)(t)},disable:function(t){(0,i.default)(t)},mount:function(t){(0,l.default)(t)}};e.default=u},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(o(0));e.default=function(t){t.modal.classList.add(n.default.CLASSES.isActive),!0===t.options.overlay&&t.overlay.classList.add(n.default.CLASSES.isActive)}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(o(0));e.default=function(t){t.modal.classList.remove(n.default.CLASSES.isActive),!0===t.options.overlay&&t.overlay.classList.remove(n.default.CLASSES.isActive)}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){var e,o,n;e=document.createDocumentFragment(),t.modal=document.createElement("div"),t.modal.setAttribute("class",t.options.modalClass),t.modal.setAttribute("style","max-width:"+t.options.maxWidth+";min-width:"+t.options.minWidth+";margin: 0px auto"),(n=document.createElement("div")).classList.add(t.options.modalClass+"__content"),t.modal.appendChild(n),e.appendChild(t.modal),"string"==typeof t.options.content?(o=t.options.content,n.innerHTML=o):t.options.content instanceof Element?(o=t.options.content,n.appendChild(o)):(o=t.options.content.innerHTML,n.innerHTML=o),!0===t.options.hasCloseButton&&(t.hasCloseButton=document.createElement("button"),t.hasCloseButton.classList.add(t.options.modalClass+"__close"),t.hasCloseButton.innerHTML="x",t.modal.appendChild(t.hasCloseButton)),!0===t.options.overlay&&(t.overlay=document.createElement("div"),t.overlay.classList.add(t.options.modalClass+"__overlay"),e.appendChild(t.overlay),!0===t.options.overlayClose&&t.overlay.addEventListener("click",function(){interactions.disableModal.call(t)},!1)),"string"==typeof t.options.appendTo?(t.appendTo=document.querySelector(t.options.appendTo),t.appendTo.appendChild(e)):document.body.appendChild(e)}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={extend:{defaults:function(t,e){var o;for(o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}}}},function(t,e,o){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb25zdGFudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9hcHAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9pbnRlcmFjdGlvbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9pbnRlcmFjdGlvbnMvZnVuY3Rpb25zL2VuYWJsZU1vZGFsLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvaW50ZXJhY3Rpb25zL2Z1bmN0aW9ucy9kaXNhYmxlTW9kYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9pbnRlcmFjdGlvbnMvZnVuY3Rpb25zL21vdW50TW9kYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC91dGlscy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkJBVU5JTEhBX0RFRkFVTFRTIiwibW9kYWxDbGFzcyIsImJ1dHRvblRhcmdldCIsImNvbnRlbnQiLCJtYXhXaWR0aCIsIm1pbldpZHRoIiwiaGFzQ2xvc2VCdXR0b24iLCJvdmVybGF5Iiwib3ZlcmxheUNsb3NlIiwia2V5Ym9hcmQiLCJhcHBlbmRUbyIsIktFWUJPQVJEIiwiRVNDIiwiQ0xBU1NFUyIsImlzQWN0aXZlIiwiRVZFTlRfTkFNRSIsIkNMSUNLIiwiS0VZRE9XTiIsIkJhdW5pbGhhTW9kYWwiLCJ0aGlzIiwibW9kYWwiLCJhcmd1bWVudHMiLCJfdHlwZW9mIiwib3B0aW9ucyIsInV0aWxzIiwiZXh0ZW5kIiwiZGVmYXVsdHMiLCJjb25zdGFudHMiLCJpbml0IiwiYnVpbGQiLCJpbnRlcmFjdGlvbnMiLCJtb3VudCIsIm9wZW4iLCJzZWxmIiwiYnV0dG9uT3BlbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbmFibGUiLCJzZXRBY3RpdmUiLCJjbG9zZSIsImRpc2FibGUiLCJkZXN0cm95IiwicmVtb3ZlIiwiZXZlbnQiLCJrZXlDb2RlIiwid2luZG93IiwiX2VuYWJsZU1vZGFsMiIsImRlZmF1bHQiLCJfZGlzYWJsZU1vZGFsMiIsIl9tb3VudE1vZGFsMiIsImNsYXNzTGlzdCIsImFkZCIsIm1vZGFsV3JhcHBlciIsIm1vZGFsQ29udGVudCIsIm1vZGFsQ29udGVudEhvbGRlciIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJFbGVtZW50IiwiZGlzYWJsZU1vZGFsIiwicXVlcnlTZWxlY3RvciIsImJvZHkiLCJzb3VyY2UiLCJwcm9wZXJ0aWVzIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIs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QyxFQUFRQyxHQUN2QixJQUFJeEUsRUFDSixJQUFLQSxLQUFZd0UsRUFDVEEsRUFBV3RFLGVBQWVGLEtBQzFCdUUsRUFBT3ZFLEdBQVl3RSxFQUFXeEUsSUFHdEMsT0FBT3VFIiwiZmlsZSI6ImJhdW5pbGhhTW9kYWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJjb25zdCBDT05TVEFOVFMgPSB7XHJcbiAgICBCQVVOSUxIQV9ERUZBVUxUUzoge1xyXG4gICAgICAgIG1vZGFsQ2xhc3M6ICdiYXVuaWxoYS1tb2RhbCcsXHJcbiAgICAgICAgYnV0dG9uVGFyZ2V0OiAnLmJhdW5pbGhhLW1vZGFsLW9wZW4nLFxyXG4gICAgICAgIGNvbnRlbnQ6ICcnLFxyXG4gICAgICAgIG1heFdpZHRoOiAnNTAwcHgnLFxyXG4gICAgICAgIG1pbldpZHRoOiAnMjgwcHgnLFxyXG4gICAgICAgIGhhc0Nsb3NlQnV0dG9uOiB0cnVlLFxyXG4gICAgICAgIG92ZXJsYXk6IHRydWUsXHJcbiAgICAgICAgb3ZlcmxheUNsb3NlOiB0cnVlLFxyXG4gICAgICAgIGtleWJvYXJkOiB0cnVlLFxyXG4gICAgICAgIGFwcGVuZFRvOiBudWxsXHJcbiAgICB9LFxyXG4gICAgS0VZQk9BUkQ6IHtcclxuICAgICAgICBFU0M6IDI3XHJcbiAgICB9LFxyXG4gICAgQ0xBU1NFUzoge1xyXG4gICAgICAgIGlzQWN0aXZlOiAnaXMtYWN0aXZlJ1xyXG4gICAgfSxcclxuICAgIEVWRU5UX05BTUU6IHtcclxuICAgICAgICBDTElDSzogJ2NsaWNrJyxcclxuICAgICAgICBLRVlET1dOOiAna2V5ZG93bidcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IENPTlNUQU5UUzsiLCJpbXBvcnQgY29uc3RhbnRzIGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IGludGVyYWN0aW9ucyBmcm9tICcuL2ludGVyYWN0aW9ucyc7XHJcbmltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzJztcclxuXHJcbihmdW5jdGlvbigpIHtcclxuICAndXNlLXN0cmljdCc7XHJcblxyXG4gIGZ1bmN0aW9uIEJhdW5pbGhhTW9kYWwoKSB7XHJcbiAgICB0aGlzLm1vZGFsID0gbnVsbDtcclxuICAgIHRoaXMub3ZlcmxheSA9IG51bGw7XHJcbiAgICB0aGlzLmhhc0Nsb3NlQnV0dG9uID0gbnVsbDtcclxuICAgIHRoaXMuYXBwZW5kVG8gPSBudWxsO1xyXG5cclxuICAgIGlmIChhcmd1bWVudHNbMF0gJiYgdHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICB0aGlzLm9wdGlvbnMgPSB1dGlscy5leHRlbmQuZGVmYXVsdHMoY29uc3RhbnRzLkJBVU5JTEhBX0RFRkFVTFRTLCBhcmd1bWVudHNbMF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaW5pdCgpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgQmF1bmlsaGFNb2RhbC5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbigpIHtcclxuICAgIGludGVyYWN0aW9ucy5tb3VudCh0aGlzKTtcclxuICB9XHJcblxyXG4gIEJhdW5pbGhhTW9kYWwucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbigpIHtcclxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIGNvbnN0IHNldEFjdGl2ZSA9IGZ1bmN0aW9uICgpe1xyXG4gICAgICBjb25zdCBidXR0b25PcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxmLm9wdGlvbnMuYnV0dG9uVGFyZ2V0KTtcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnV0dG9uT3Blbi5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgIGJ1dHRvbk9wZW5baV0uYWRkRXZlbnRMaXN0ZW5lcihjb25zdGFudHMuRVZFTlRfTkFNRS5DTElDSywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgIGludGVyYWN0aW9ucy5lbmFibGUoc2VsZik7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuYnV0dG9uVGFyZ2V0ID09PSAnc3RyaW5nJykge1xyXG4gICAgICBzZXRBY3RpdmUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEJhdW5pbGhhTW9kYWwucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zdCBzZWxmID0gdGhpcztcclxuXHJcbiAgICBjb25zdCBzZXREZXNhY3RpdmUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgc2VsZi5oYXNDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKGNvbnN0YW50cy5FVkVOVF9OQU1FLkNMSUNLLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIGludGVyYWN0aW9ucy5kaXNhYmxlKHNlbGYpO1xyXG4gICAgICB9LCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5oYXNDbG9zZUJ1dHRvbiA9PT0gdHJ1ZSkge1xyXG4gICAgICBzZXREZXNhY3RpdmUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEJhdW5pbGhhTW9kYWwucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMubW9kYWwucmVtb3ZlKCk7XHJcbiAgICB0aGlzLm92ZXJsYXkucmVtb3ZlKCk7XHJcbiAgfVxyXG5cclxuICBCYXVuaWxoYU1vZGFsLnByb3RvdHlwZS5rZXlib2FyZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgY29uc3QgY2xvc2VPbkVzY1ByZXNzID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IGNvbnN0YW50cy5LRVlCT0FSRC5FU0MpIHtcclxuICAgICAgICBpbnRlcmFjdGlvbnMuZGlzYWJsZShzZWxmKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoY29uc3RhbnRzLkVWRU5UX05BTUUuS0VZRE9XTiwgY2xvc2VPbkVzY1ByZXNzLCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBCYXVuaWxoYU1vZGFsLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmJ1aWxkKCk7XHJcbiAgICB0aGlzLm9wZW4oKTtcclxuICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIHRoaXMua2V5Ym9hcmQoKTtcclxuICB9XHJcblxyXG4gIHdpbmRvdy5CYXVuaWxoYU1vZGFsID0gQmF1bmlsaGFNb2RhbDtcclxuXHJcbn0pKHdpbmRvdyk7XHJcbiIsImltcG9ydCBlbmFibGVNb2RhbCBmcm9tICcuL2Z1bmN0aW9ucy9lbmFibGVNb2RhbC5qcyc7XHJcbmltcG9ydCBkaXNhYmxlTW9kYWwgZnJvbSAnLi9mdW5jdGlvbnMvZGlzYWJsZU1vZGFsLmpzJztcclxuaW1wb3J0IG1vdW50TW9kYWwgZnJvbSAnLi9mdW5jdGlvbnMvbW91bnRNb2RhbC5qcyc7XHJcblxyXG5jb25zdCBpbnRlcmFjdGlvbnMgPSB7XHJcbiAgZW5hYmxlOiBmdW5jdGlvbihzZWxmKXtcclxuICAgIGVuYWJsZU1vZGFsKHNlbGYpO1xyXG4gIH0sXHJcbiAgZGlzYWJsZTogZnVuY3Rpb24oc2VsZil7XHJcbiAgICBkaXNhYmxlTW9kYWwoc2VsZik7XHJcbiAgfSxcclxuICBtb3VudDogZnVuY3Rpb24oc2VsZil7XHJcbiAgICBtb3VudE1vZGFsKHNlbGYpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGludGVyYWN0aW9uczsiLCJpbXBvcnQgY29uc3RhbnRzIGZyb20gJy4uLy4uL2NvbnN0YW50cyc7XHJcblxyXG5jb25zdCBlbmFibGVNb2RhbCA9IChzZWxmKSA9PiB7XHJcbiAgc2VsZi5tb2RhbC5jbGFzc0xpc3QuYWRkKGNvbnN0YW50cy5DTEFTU0VTLmlzQWN0aXZlKTtcclxuXHJcbiAgICBpZiAoc2VsZi5vcHRpb25zLm92ZXJsYXkgPT09IHRydWUpIHtcclxuICAgICAgc2VsZi5vdmVybGF5LmNsYXNzTGlzdC5hZGQoY29uc3RhbnRzLkNMQVNTRVMuaXNBY3RpdmUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBlbmFibGVNb2RhbDsiLCJpbXBvcnQgY29uc3RhbnRzIGZyb20gJy4uLy4uL2NvbnN0YW50cyc7XHJcblxyXG5jb25zdCBkaXNhYmxlTW9kYWwgPSAoc2VsZikgPT4ge1xyXG4gIHNlbGYubW9kYWwuY2xhc3NMaXN0LnJlbW92ZShjb25zdGFudHMuQ0xBU1NFUy5pc0FjdGl2ZSk7XHJcblxyXG4gICAgaWYgKHNlbGYub3B0aW9ucy5vdmVybGF5ID09PSB0cnVlKSB7XHJcbiAgICAgIHNlbGYub3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKGNvbnN0YW50cy5DTEFTU0VTLmlzQWN0aXZlKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZGlzYWJsZU1vZGFsOyIsImNvbnN0IG1vdW50TW9kYWwgPSAoc2VsZikgPT4ge1xyXG4gICAgdmFyIG1vZGFsV3JhcHBlciwgbW9kYWxDb250ZW50LCBtb2RhbENvbnRlbnRIb2xkZXI7XHJcblxyXG4gICAgbW9kYWxXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5cclxuICAgIHNlbGYubW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICBzZWxmLm1vZGFsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBzZWxmLm9wdGlvbnMubW9kYWxDbGFzcyk7XHJcbiAgICBzZWxmLm1vZGFsLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBcclxuICAgICAgJ21heC13aWR0aDonICsgc2VsZi5vcHRpb25zLm1heFdpZHRoICsgJzsnICtcclxuICAgICAgJ21pbi13aWR0aDonICsgc2VsZi5vcHRpb25zLm1pbldpZHRoICsgJzsnICtcclxuICAgICAgJ21hcmdpbjogMHB4IGF1dG8nXHJcbiAgICApO1xyXG5cclxuICAgIG1vZGFsQ29udGVudEhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgbW9kYWxDb250ZW50SG9sZGVyLmNsYXNzTGlzdC5hZGQoc2VsZi5vcHRpb25zLm1vZGFsQ2xhc3MgKyAnX19jb250ZW50Jyk7XHJcbiAgICBzZWxmLm1vZGFsLmFwcGVuZENoaWxkKG1vZGFsQ29udGVudEhvbGRlcik7XHJcbiAgICBtb2RhbFdyYXBwZXIuYXBwZW5kQ2hpbGQoc2VsZi5tb2RhbCk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzZWxmLm9wdGlvbnMuY29udGVudCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgbW9kYWxDb250ZW50ID0gc2VsZi5vcHRpb25zLmNvbnRlbnQ7XHJcbiAgICAgIG1vZGFsQ29udGVudEhvbGRlci5pbm5lckhUTUwgPSBtb2RhbENvbnRlbnQ7XHJcblxyXG4gICAgfSBlbHNlIGlmIChzZWxmLm9wdGlvbnMuY29udGVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgICAgbW9kYWxDb250ZW50ID0gc2VsZi5vcHRpb25zLmNvbnRlbnQ7XHJcbiAgICAgIG1vZGFsQ29udGVudEhvbGRlci5hcHBlbmRDaGlsZChtb2RhbENvbnRlbnQpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1vZGFsQ29udGVudCA9IHNlbGYub3B0aW9ucy5jb250ZW50LmlubmVySFRNTDtcclxuICAgICAgbW9kYWxDb250ZW50SG9sZGVyLmlubmVySFRNTCA9IG1vZGFsQ29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2VsZi5vcHRpb25zLmhhc0Nsb3NlQnV0dG9uID09PSB0cnVlKSB7XHJcbiAgICAgIHNlbGYuaGFzQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgc2VsZi5oYXNDbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKHNlbGYub3B0aW9ucy5tb2RhbENsYXNzICsgXCJfX2Nsb3NlXCIpO1xyXG4gICAgICBzZWxmLmhhc0Nsb3NlQnV0dG9uLmlubmVySFRNTCA9ICd4JztcclxuICAgICAgc2VsZi5tb2RhbC5hcHBlbmRDaGlsZChzZWxmLmhhc0Nsb3NlQnV0dG9uKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2VsZi5vcHRpb25zLm92ZXJsYXkgPT09IHRydWUpIHtcclxuICAgICAgc2VsZi5vdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHNlbGYub3ZlcmxheS5jbGFzc0xpc3QuYWRkKHNlbGYub3B0aW9ucy5tb2RhbENsYXNzICsgXCJfX292ZXJsYXlcIik7XHJcbiAgICAgIG1vZGFsV3JhcHBlci5hcHBlbmRDaGlsZChzZWxmLm92ZXJsYXkpO1xyXG5cclxuICAgICAgaWYgKHNlbGYub3B0aW9ucy5vdmVybGF5Q2xvc2UgPT09IHRydWUpIHtcclxuICAgICAgICBzZWxmLm92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgaW50ZXJhY3Rpb25zLmRpc2FibGVNb2RhbC5jYWxsKHNlbGYpO1xyXG4gICAgICAgIH0sZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzZWxmLm9wdGlvbnMuYXBwZW5kVG8gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHNlbGYuYXBwZW5kVG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGYub3B0aW9ucy5hcHBlbmRUbyk7XHJcbiAgICAgIHNlbGYuYXBwZW5kVG8uYXBwZW5kQ2hpbGQobW9kYWxXcmFwcGVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWxXcmFwcGVyKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW91bnRNb2RhbDsiLCJ2YXIgdXRpbHMgPSB7XHJcbiAgICBleHRlbmQ6IHtcclxuICAgICAgICBkZWZhdWx0czogZnVuY3Rpb24oc291cmNlLCBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eTtcclxuICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VbcHJvcGVydHldID0gcHJvcGVydGllc1twcm9wZXJ0eV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHV0aWxzOyJdLCJzb3VyY2VSb290IjoiIn0=